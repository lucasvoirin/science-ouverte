---
title: "Installer R sur Debian"
author: "Lucas"
date: "2024-11-27"
date-modified: "2024-11-27"
description: "Sur Debian, il est possible d'installer `R` √† partir du gestionnaire de paquets `apt`. Toutefois, la version de `R` sur les d√©p√¥ts Debian est g√©n√©ralement moins √† jour que la version disponible sur le CRAN..."
categories: [Informatique, Linux, üí°üí°üí°]
---

::: callout-warning
# Attention !

Cette page contient des extraits de code `bash`. Il faut toujours comprendre ce que le code propos√© fait avant de l'ex√©cuter, d'autant plus plus lorsque ce code n√©cessite les privil√®ges d'administration (`sudo`).
:::

### Comment avoir une version de R √† jour sur Debian ?

Sur Debian, il est possible d'installer `R` √† partir du gestionnaire de paquets `apt`. Toutefois, la version de `R` sur les d√©p√¥ts Debian est g√©n√©ralement moins √† jour que la version disponible sur le CRAN. Pour installer la derni√®re version de `R` sur Debian il est possible d'ajouter le CRAN √† la liste des d√©p√¥ts g√©r√©s par `apt`.

::: callout-tip
CRAN (Comprehensive R Archive Network)
:::

### Ajouter le CRAN √† la liste des d√©p√¥ts de `apt`

On commence par ajouter l'adresse de CRAN √† la liste des d√©p√¥ts de `apt` :

``` bash
sudo echo "deb http://cloud.r-project.org/bin/linux/debian bookworm-cran40/" > /etc/apt/sources.list.d/cran.list
```

Le script permet d'ajouter l'adresse dans un nouveau fichier, `cran.list`, que l'on place dans le r√©pertoire `/etc/apt/sources.list.d/`. Ce r√©pertoire contient des fichiers de listes de d√©p√¥ts, cela permet de ne pas modifier le fichier `/etc/apt/sources.list`.

### S√©curiser les √©changes entre `apt` et le d√©p√¥t CRAN

Apr√®s avoir ajout√© l'adresse du d√©p√¥t, il faut d√©sormais r√©cup√©rer la cl√© GPG publique du d√©p√¥t afin de s√©curiser les √©change avec celui-ci.

On t√©l√©charge la cl√© :

``` bash
gpg --keyserver keyserver.ubuntu.com \
    --recv-key '95C0FAF38DB3CCAD0C080A7BDC78B2DDEABC47B7'
```

La cl√© est stock√©e sur un serveur de stockage de cl√©s publiques (`keyserver.ubuntu.com`) et son empreinte (i.e. son identifiant unique) est `95C0FAF38DB3CCAD0C080A7BDC78B2DDEABC47B7`. Il serait aussi possible de trouver cette cl√© en se rendant directement sur le site [keyserver.ubuntu.com](https://keyserver.ubuntu.com/).

Une fois la cl√© t√©l√©charg√©e, on la stocke dans le r√©pertoire d√©di√© de `apt` :

``` bash
gpg --armor --export '95C0FAF38DB3CCAD0C080A7BDC78B2DDEABC47B7' | \
    sudo tee /etc/apt/trusted.gpg.d/cran_debian_key.asc
```

La cl√© est convertie en un format ASCII. Elle est ensuite stock√©e dans le fichier `cran_debian_key.asc` dans le r√©pertoire `/etc/apt/trusted.gpg.d/` qui contient les cl√©s que le gestionnaire de paquets apt a besoin pour s√©curiser la communication avec les d√©p√¥ts.

::: callout-tip
Une cl√© GPG (GNU Privacy Guard) est un syst√®me de signature cryptographique permettant la communication s√©curis√©e entre deux ordinateurs.
:::

### Installer R

Maintenant que le d√©p√¥t et sa cl√© sont configur√©s, on peut mettre √† jour la liste des d√©p√¥ts :

``` bash
sudo apt update
```

Si tout se passe bien on devrait voir passer une ligne avec l'adresse du d√©p√¥t CRAN ajout√© plus haut.

Enfin, on peut installer R √† partir du nouveau d√©p√¥t :

``` bash
sudo apt install r-base r-base-dev
```

On peut v√©rifier la version de `R` install√©e :

``` bash
R --version
```

::: callout-note
# R√©f√©rences

Les √©tapes d√©crites ci-dessus sont tir√©es de la [page Debian de CRAN](https://cran.r-project.org/bin/linux/debian).
:::
